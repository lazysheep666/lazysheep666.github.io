<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>聊一聊像素px | lazySheep blog</title><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><script src="/js/third-party/jquery.min.js">           </script><script src="/js/third-party/velocity.min.js">           </script><script src="/js/third-party/velocity.ui.min.js">           </script><link rel="icon" href="/img/favicon.ico"></head><body><div id="header-outer"><div id="header-inner"><nav class="clear-fix" id="header-nav"><div class="pull-left" id="page-home"><a href="/">lazySheep blog</a></div><i class="fa fa-bars pull-right" id="toggle-nav" aria-hidden="true"></i><div class="pull-right" id="navs"><a class="site-page" href="/">Home</a><a class="site-page" href="/about">About</a><a class="site-page" href="/tags">Tags</a></div></nav><div id="site-info"><div id="terminal-pl"><div id="top-bar"><ul id="control"><li class="btn"></li><li class="btn"></li><li class="btn"></li></ul><div id="file-path"><i class="fa fa-folder folder-ic" aria-hidden="true"></i> lazysheep 10 X 10</div></div><div id="code-pl">Last updated: Sun May 21 09:41:00<br>Sheep:~ Desktop$ <span class="code-pl-input">node about.js</span><br><br>> Sheep.location<br><span class="anwser">'Beijng, Chongqing'</span><br><br>> Sheep.education<br><span class="anwser">'BUPT'</span><br><br>> Sheep.interests<br>[<span class="anwser">'coding', 'basketball', 'sleeping', 'reading'</span>]<br><br>> Sheep.github<br><a href="https://github.com/lazysheep666" target="_blank"><span class="answer">github.com/lazysheep666</span></a><br><br>> Sheep.email<br><a href="mailto:714201376@qq.com"><span class="answer">'mail to sheep'</span></a><br></div></div></div></div></div><div id="content-outer"><div id="content-inner"><article id="post"><a class="article-title">聊一聊像素px</a><time class="article-date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-05-12</time><p>今天看bootstrap响应式布局时时遇到了十分常见但是又不理解的<code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;</code>然后仔细在网上查了资料后 在这里整理整理</p>
<a id="more"></a>
<h3 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h3><ol>
<li>iphone6s 的分辨率是1920px * 1080px</li>
<li>iphone6s 全屏截图文件的尺寸是1242px * 2208px</li>
<li>iphone6s 的宽度是414px</li>
<li>iphone6s 不加 viewport 的情况下，window.innerWidth = 980px</li>
<li>iphone6s 加 viewport 且 scale 都为1的情况下，window.innerWidth = 414px(及iphone6s的宽度)</li>
<li>iphone6s 加 viewport 且 scale 都为.5的情况下，window.innerWidth = 829px<blockquote>
<p>这些 px 单位都是啥？</p>
</blockquote>
</li>
</ol>
<h3 id="什么是像素"><a href="#什么是像素" class="headerlink" title="什么是像素"></a>什么是像素</h3><ul>
<li>像素是度量的单位，可以理解为点。点组成线，线组成面，一个页面也就是有n多个像素点组成。</li>
</ul>
<h3 id="什么是设备像素"><a href="#什么是设备像素" class="headerlink" title="什么是设备像素"></a>什么是设备像素</h3><ul>
<li>设备的物理像素，其尺寸大小是绝对的。</li>
</ul>
<h3 id="什么是分辨率"><a href="#什么是分辨率" class="headerlink" title="什么是分辨率"></a>什么是分辨率</h3><ul>
<li>分辨率是屏幕图像的精密度，是指显示器所能显示的像素的多少。屏长的设备像素 × 屏宽的设备像素。</li>
<li>iphone6s 的分辨率是1920px * 1080px 即横向能显示1080个像素点，纵向能显示1920个像素点。</li>
</ul>
<h3 id="来测试一下"><a href="#来测试一下" class="headerlink" title="来测试一下"></a>来测试一下</h3><p>iphone5的分辨率是1136像素×640像素，即横向能显示640个像素点，纵向显示1136个像素点。横向能显示640px，那如果我的页面上的div设置为320px的宽的话，那手机上应该显示的是该div只占一半的宽度，</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">media</span>=<span class="string">"screen"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    * &#123;</span></span><br><span class="line"><span class="undefined">      margin: 0;</span></span><br><span class="line"><span class="undefined">      padding: 0;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    .test &#123;</span></span><br><span class="line"><span class="undefined">      width: 320px;</span></span><br><span class="line"><span class="undefined">      height: 640px;</span></span><br><span class="line"><span class="undefined">      background-color: #009688;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/像素/3.png" alt="project"><br>然而我们发现只占了屏幕的<strong>三分之一</strong>OMG!难道出BUG了吗 QAQ<br>不不不！！！<br>这是因为iphone默认的viewport宽度是<strong>980px</strong>也就是说iphone的默认html的页面大小为980px铺满屏幕<br>但是当我们添加了<code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;</code>后<br>惊奇的发现<br><img src="/img/像素/4.png" alt="project"><br>竟然铺满屏幕了！！！！是不是又出现BUG了！！！其实<strong>早有预谋</strong><br><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;</code>这里的这个标签的意思是 将 viewport 宽度设为<strong>设备宽度</strong>，初始的缩放比例为一倍，那么这里的设备宽度到底是什么呢？请看下面</p>
<h3 id="什么是逻辑像素"><a href="#什么是逻辑像素" class="headerlink" title="什么是逻辑像素"></a>什么是逻辑像素</h3><ul>
<li>CSS 的像素单位，其尺寸大小是相对的，也称为<strong>独立像素</strong>。(及手机的设备宽度)。</li>
<li>只要两个屏幕逻辑像素相同，它们的显示效果就是相同的。但是它们显示的<strong>精确度及清晰度却不同</strong>。因为它们的设备像素不一定相同。<blockquote>
<p>举个例子</p>
</blockquote>
</li>
</ul>
<p>iphone3gs,逻辑分辨率是480px 320px,物理分辨率也是480px 320px。<br>iphone4,逻辑分辨率和3gs一样是480px 320px,但是物理分辨率变成了960px 640px。采用Retina视网膜屏幕。</p>
<p><img src="/img/像素/1.png" alt="project"><br>假设有个邮件列表界面，我们不妨按照PC端网页设计的思维来想象。3gs上大概只能显示4-5行，4s就能显示9-10行，而且每行会变得特别宽。但两款手机其实是一样大的。（<strong>因为iphone4的物理分辨率是3gs的两倍</strong>）如果照这种方式显示，3gs上刚刚好的效果，在4s上就会小到根本看不清字。<br><img src="/img/像素/2.png" alt="project"><br>在现实中，这两者效果却是一样的。这是因为Retina屏幕把2x2个像素当1个像素使用。比如原本44像素高的顶部导航栏，在Retina屏上用了88个像素的高度来显示。导致界面元素都变成2倍大小，反而和3gs效果一样了。画质却更清晰。</p>
<blockquote>
<p>所以只要两个屏幕逻辑像素相同，它们的显示效果就是相同的。但是它们显示的<strong>精确度及清晰度却不同</strong>。因为它们的设备像素不一定相同。</p>
</blockquote>
<h3 id="dpi（dots-per-inch）"><a href="#dpi（dots-per-inch）" class="headerlink" title="dpi（dots per inch）"></a>dpi（dots per inch）</h3><ul>
<li>像素密度，表示水平或垂直方向每英寸长度的像素数目</li>
</ul>
<h3 id="ppi（pixels-per-inch）"><a href="#ppi（pixels-per-inch）" class="headerlink" title="ppi（pixels per inch）"></a>ppi（pixels per inch）</h3><ul>
<li>像素密度，表示沿对角线每英寸长度的像素数目</li>
</ul>
<h3 id="缩放因子（Scale-Factor）"><a href="#缩放因子（Scale-Factor）" class="headerlink" title="缩放因子（Scale Factor）"></a>缩放因子（Scale Factor）</h3><ul>
<li>逻辑像素相对于设备像素的放大比例，可通过 window.devicePixelRatio 获得，但二者并不完全等同。</li>
</ul>
<h3 id="关系一："><a href="#关系一：" class="headerlink" title="关系一："></a>关系一：</h3><p>　　设备尺寸 × 像素密度 = 分辨率（设备像素）</p>
<p>　　举例：</p>
<p>　　iphone6s 对角线长度为5.5 inches，像素密度401 ppi，分辨率 1920 * 1080，计算可得对角线的设备像素为2205.5。</p>
<p>　　5.5 * 401 = 2205.5</p>
<h3 id="关系二："><a href="#关系二：" class="headerlink" title="关系二："></a>关系二：</h3><p>　　逻辑像素 = 设备像素 × 缩放因子</p>
<p>　　举例：</p>
<p>　　iphone6逻辑像素为667 <em> 375，分辨率为1334 </em> 750，缩放因子为2</p>
<p>　　1个逻辑像素 = 设备宽度的1/375</p>
<p>　　1个设备像素 = 设备宽度的1/750</p>
<p>　　1/375 = 1/750 * 2</p>
<h3 id="常见的设备的分辨率"><a href="#常见的设备的分辨率" class="headerlink" title="常见的设备的分辨率"></a>常见的设备的分辨率</h3><p><img src="/img/像素/5.png" alt="project"></p>
<h3 id="iphone6-plus"><a href="#iphone6-plus" class="headerlink" title="iphone6 plus"></a>iphone6 plus</h3><p>iphone6s的 ppi 达到了401，按照比率，它的缩放因子应该等于2.6。<br><img src="/img/像素/6.png" alt="project"><br>但是2.6这一奇葩的比例不太方便切图，所以 iphone6s 就直接改成了3，然后再整体压缩87%（2.6 / 3）。这也是为啥iphone6s 全屏截图的尺寸是1242 * 2208。</p>
<h3 id="dpr-适配"><a href="#dpr-适配" class="headerlink" title="dpr 适配"></a>dpr 适配</h3><p>devicePixelRatio 适配要解决的问题是：在设置了 viewport，width=device-width 的情况下，如何画出1px（设备像素）的问题。<br>dpr=2意味着 CSS 中的1px 会用两个设备像素来渲染，在 iphone6s 上更会用3个设备像素来渲染。<br>手机淘宝的做法是使用 js 动态设置 viewport 的 initial-scale。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//参考代码</span><br><span class="line">var metaEl = doc.createElement(&apos;meta&apos;);</span><br><span class="line">var scale = isRetina ? 0.5:1;</span><br><span class="line">metaEl.setAttribute(&apos;name&apos;, &apos;viewport&apos;);</span><br><span class="line">metaEl.setAttribute(&apos;content&apos;, &apos;initial-scale=&apos; + scale + &apos;, maximum-scale=&apos; + scale + &apos;,minimum-scale=&apos; + scale + &apos;,user-scalabl=no&apos;);</span><br><span class="line">if (docEL.firstElementChild) &#123;</span><br><span class="line">  document.documentElement.firstElementChild.appendChild(metaEL);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  var warp = doc.createElement(&apos;div&apos;);</span><br><span class="line">  warp.appendChild(metaEL)；</span><br><span class="line">  doccument.write(wrap.innerHTML);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="http://www.cnblogs.com/kidney/p/6692312.html" target="_blank" rel="noopener">1px究竟是多大</a></p>
</article><nav id="pagination"><div class="pagination clear-fix"><div class="page-prev pull-left"><a href="/node菜鸟笔记-2-Node的模块实现/"><i class="fa fa-chevron-left"> </i><span>node菜鸟笔记(2)---node 的模块实现</span></a></div><div class="page-next pull-right"><a href="/node菜鸟笔记-1-Mongodb-express实现简单登陆注册/"><span>node菜鸟笔记(1)---Mongodb+express实现简单登陆注册</span><i class="fa fa-chevron-right"></i></a></div></div></nav></div></div><footer><div id="footer-inner"><div class="social-icons"><a class="social-icon" href="" target="_blank"><i class="fa fa-github"></i></a><a class="social-icon" href="" target="_blank"><i class="fa fa-weibo"></i></a><a class="social-icon" href="" target="_blank"><i class="fa fa-twitter"></i></a></div><p class="copyright">Copyright © lazysheep Blog 2017</p></div></footer><script src="/js/toggle_nav.js"></script><script src="/js/scroll.js"></script></body></html>